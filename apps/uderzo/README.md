# Uderzo

Uderzo is an idea at the moment, nothing more. Maybe some code will follow. Needless to
say, named after the Asterix creator, the half from the genius duo that made the images
(if I ever write a Elixir-based wordprocessor, it'll be called Goscinny. Promise).

The idea is to have an Elixir GUI in the following way:

* An executable that listens on an Erlang port and includes [NanoVG](https://github.com/memononen/nanovg)
* A library in Elixir that roughly replicates [NanoGUI](https://github.com/wjakob/nanogui)

The reason to separate the vector graphics and the GUI are multiple:
* With the OpenGL stuff in a separate executable, it can crash without taking down BEAM. Restart strategies are possible;
* The interesting bits are kept in Elixir and thus will be modifiable, etcetera. There's a ton of fun stuff you can do when your widget library is truly native and you have a code environment that's dynamic. See Morphic, Lively Kernel, etcetera. 
* I'd like to abuse the opportunity to see whether the widgets can be generated by a DSL, pulling all the stops on macros and maybe some more advanced parsing as well.

Steps:

* [ ] Build a basic wrapper executable
* [ ] Open a window, show a triangle
* [ ] Receive a mouseclick
* [ ] Lots and lots and lots of hard work to tie everything together.

# Setup

* Have premake4 installed
* `make setup`
* Have GL, glfw, .. installed. 
* mix deps.get
* mix compile
* maybe things will now work. 

Note: we're doing nothing yet to make this work on non-linux envs, but also nothing to 
make that hard. Nanovg is portable, and our wrapper executable should be minimal.

# Protocol

The pipe protocol has two modes: ASCII and binary. In either case, most of the code is generated. The
ASCII mode is handy for debugging, but binary should be the default. 

To get started, we KISS and just use erlang term format. Later on we can have some hand-optimized
RPC going on.
